<div class="row" *ngIf="isCliente() || isUserNull()">
  <div class="col-lg-5">
    <mat-card class="carrusel">
      <mat-card-content class="headerCardcolor">
        <p>Level Up CR</p>
      </mat-card-content>
      <div
        id="carouselExampleAutoplaying"
        class="carousel carousel-dark slide"
        data-bs-ride="carousel"
      >
        <div class="carousel-indicators">
          <button
            type="button"
            data-bs-target="#carouselExampleDark"
            data-bs-slide-to="0"
            class="active"
            aria-current="true"
            aria-label="Slide 1"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleDark"
            data-bs-slide-to="1"
            aria-label="Slide 2"
          ></button>
          <button
            type="button"
            data-bs-target="#carouselExampleDark"
            data-bs-slide-to="2"
            aria-label="Slide 3"
          ></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img
              src="http://localhost:3000/PS5 Spiderman.jpg"
              class="d-block w-100"
              alt="..."
            />
          </div>
          <div class="carousel-item">
            <img
              src="http://localhost:3000/Switch.jpg"
              class="d-block w-100"
              alt="..."
            />
          </div>
          <div class="carousel-item">
            <img
              src="http://localhost:3000/Xbox.jpg"
              class="d-block w-100"
              alt="..."
            />
          </div>
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselExampleAutoplaying"
          data-bs-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <mat-card-content class="footerCardcolor">
        <p>La tienda que te sube de nivel</p>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-lg-7 margincard">
    <div class="row">
      <mat-card class="col-lg-4 tiles">
        <H1>Catalogo</H1>
      </mat-card>
      <mat-card class="col-lg-4 tiles">
        <H1>Categorias</H1>
      </mat-card>
      <mat-card class="col-lg-4 tiles">
        <H1>Pedidos</H1>
      </mat-card>
    </div>
    <div class="formatimage">
      <img src="./assets/images/BannerLevelUpCR.png" />
    </div>
  </div>
</div>

<div class="row" *ngIf="isAdmin()">
  <div class="col-lg-5">
    <mat-card class="carrusel">
      <mat-card-content class="headerCardcolor">
        <p>Top 5 Mejores vendedores</p>
      </mat-card-content>
      <div style="width: 450px; height: 400px; background-color: #000000c4">
        <canvas #graficoTop5  class="chart2"></canvas>
      </div>
      <mat-card-content class="footerCardcolor">
        <p>La tienda que te sube de nivel</p>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-lg-7 margincard">
    <div class="row">
      <mat-card class="col-lg-4 tiles2">
        <H1 class="smallTitle">Cantidad de compras de hoy: </H1>
        <p class="datoPrincipal">{{ cantCompras }}</p>
      </mat-card>
      <mat-card class="col-lg-8 tiles2">
        <H1>Top 3 Peores vendedores</H1>
        <canvas #graficoTop3 width="702" height="351" class="chart3"></canvas>
      </mat-card>
    </div>
    <div class="row marginTile">
      <div class="col headerCardcolor2">
        <p>Top 5 Productos vendidos en {{ mes }}</p>
      </div>
      <div class="col backChart">
        <canvas #graficoCanvas width="702" height="351" class="chart"></canvas>
      </div>
    </div>
  </div>
</div>

<div class="row" *ngIf="isVendedor()">
  <div class="col-lg-5">
    <mat-card class="carrusel">
      <mat-card-content class="headerCardcolor">
        <p>Producto mas vendido</p>
      </mat-card-content>
      <div >
        <div
          *ngIf="fotosMasVendidoSelected && fotosMasVendidoSelected?.length > 0"
          class="no-response"
        >
          <img
            [src]="'http://localhost:3000/' + fotosMasVendidoSelected[0]?.Foto"
            alt="Imagen"
            class="d-block w-100"
            
          />
        </div>
        <div
          *ngIf="!fotosMasVendidoSelected || fotosMasVendidoSelected.length === 0"
          class="no-response"
        >
          <div class="textfotos">AÃºn no hay fotos para este producto.</div>
        </div>
      </div>
      <mat-card-content class="footerCardcolor">
        <p>Nombre: {{masVendidoSelected[0]?.nombre}}</p>
        <p>Cantidad vendida:{{masVendidoSelected[0]?.suma}}</p>
      </mat-card-content>
    </mat-card>
  </div>
  <div class="col-lg-7 margincard">
    <div class="row">
      <mat-card class="col-lg-12 tiles3 d-flex justify-content-center">
        <H1 class="smallTitle2">Cliente que mas compra nuestros productos: </H1>
        <p class="datoPrincipal2">{{mejorClienteSelected[0]?.nombre}}</p>
        <H1 class="smallTitle2"> con {{mejorClienteSelected[0]?.suma}} productos comprados</H1>
      </mat-card>
    </div>
    <div class="row marginTile">
      <div class="col headerCardcolor2">
        <p>Calificaciones de clientes</p>
      </div>
      <div class="col backChart">
        <canvas #graficoCant width="702" height="351" class="chart4"></canvas>
      </div>
    </div>
  </div>
</div>
